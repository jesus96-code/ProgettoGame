<!DOCTYPE html>
<html>

<head>
	<title>
		SiwGame - Homepage
	</title>
	<link rel="stylesheet" href="/css/index.css" />
</head>

<body>
	<header>
		<div th:if="${#request.userPrincipal}">
        <!-- Se è un utente OAuth2 (Google) -->
        <span th:if="${#request.userPrincipal.principal instanceof T(org.springframework.security.oauth2.core.oidc.user.DefaultOidcUser)}"
              th:text="${#request.userPrincipal.principal.attributes['email']}">[OAuth2 User]</span>

        <!-- Se è un utente locale -->
        <span th:if="${#request.userPrincipal.principal instanceof T(org.springframework.security.core.userdetails.User)}"
              th:text="${#request.userPrincipal.name}">[Utente Locale]</span>

        	<a href="/logout">
            	<button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Logout</button>
       	 	</a>
    	</div>

    	<div th:unless="${#request.userPrincipal}">
       		 <a href="/login">
            	<button class="btn btn-outline-primary my-2 my-sm-0" type="submit">Login</button>
        	</a>
    	</div>
	</header>

	<div class = "logo"><img src="/images/logo-game.png" width="40%" /></div>
	<h1>Consulta l'archivio</h1>
	<div>
		<a href="/console">Elenco Console</a>
	</div>
	<div>
		<a href="/game">Elenco Giochi</a>
	</div>
	
	
</body>

</html>